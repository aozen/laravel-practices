<p><em>This guide present some useful functions for php &amp; laravel. </em><br /><em>For using helper.php, add this columns to the composer.json.</em></p>
<p>"autoload": {<br /> "psr-4": {<br /> "App\\": "app/"<br /> },<br /> "files" : ["app/helper.php"]<br /> }</p>
<p><em>After that, functions are may call in the project.</em></p>
<p>&lt;?php<br />use Illuminate\Support\Facades\Route;<br />/**<br /> *<br /> * @param $number<br /> * @param $currency<br /> */<br />//############################# START PHP FUNCTIONS #######################</p>
<p>//GET ORIGINAL LOAD IMAGE FROM YOUTUBE VIDEOS<br />function videoJpg($video_url)<br />{<br /> $cut_head = str_after($video_url, 'https://www.youtube.com/watch?v=');<br /> $cut_tail = str_before($cut_head, '&amp;');<br /> $video_jpg = "http://i3.ytimg.com/vi/".$cut_tail."/hqdefault.jpg";<br /> return $video_jpg;<br />}</p>
<p><br />//CONVERT YOUTUBE VIDEOS TO EMBEDED URL<br />function convertEmbed($video_url)<br />{<br /> $get_last = str_after($video_url, 'https://www.youtube.com/watch?v=');<br /> $throw = str_before($get_last, '&amp;');<br /> $embed = "https://www.youtube.com/embed/".$throw;<br /> return $embed;<br />}</p>
<p>//MAKE SLUG<br />function createSlug($str, $delimiter = '-')<br />{<br /> $slug = strtolower(trim(preg_replace('/[\s-]+/', $delimiter, preg_replace('/[^A-Za-z0-9-]+/', $delimiter, preg_replace('/[&amp;]/', 'and', preg_replace('/[\']/', '', iconv('UTF-8', 'ASCII//TRANSLIT', $str))))), $delimiter));</p>
<p>return $slug;<br />}</p>
<p>//GET FILE EXTENSIONS<br />function fileExtension($file_name)<br />{<br /> $separate = explode(".", $file_name);<br /> $extension = end($separate);<br /> return $extension ? $extension : false;<br />}</p>
<p>//PUT CHARACTER LIMIT IN TEXT. STOP WRITING AFTER END OF THE WORD.<br />function shortening($content, $letter) {<br /> $content = stripslashes(strip_tags($content));<br /> if (strlen($content) &lt;= $letter) {<br /> return $content;<br /> } else {<br /> $content = preg_replace('/\s+?(\S+)?$/', '', substr($content, 0, $letter));<br /> return $content . "...";<br /> }<br />}</p>
<p>//CALCULATE KM, METER, MILE FROM LATITUDE AND LONGITUDE<br />function calculate($latitude1, $longitude1, $latitude2, $longitude2) {<br /> $longitude_diff = $longitude1 - $longitude2;<br /> $mile = (sin(deg2rad($latitude1)) * sin(deg2rad($latitude2))) + (cos(deg2rad($latitude1)) * cos(deg2rad($latitude2)) * cos(deg2rad($longitude_diff)));<br /> $mile = acos($mile);<br /> $mile = rad2deg($mile);<br /> $mile = $mile * 60 * 1.1515;<br /> $km = $mile * 1.609344;<br /> $meter = $km * 1000;<br /> return compact('mile','km','meter');<br />}</p>
<p>//GET NUMBERS EXTENSION<br />function ordinalNumbers($number){<br /> $lastnum = abs($number) % 10;<br /> $ordinal = ((abs($number) %100 &lt; 21 &amp;&amp; abs($number) %100 &gt; 4) ? 'th'<br /> : (($lastnum &lt; 4) ? ($lastnum &lt; 3) ? ($lastnum &lt; 2) ? ($lastnum &lt; 1)<br /> ? 'th' : 'st' : 'nd' : 'rd' : 'th'));<br /> return $number.$ordinal;<br />}</p>
<p>//IF WORD STARTING WITH CHILD RETURN TRUE<br />function startingWord($word, $child){<br /> $length = strlen($child);<br /> return (substr($word, 0, $length) === $child);<br />}</p>
<p>//UPPER FIRST LETTER //NOT UTF-8<br />//Inputs: "HEEY. WHAZZUP!" Outputs: "Heey. Whazzup!"<br />function ucname($string) {<br /> $string =ucwords(strtolower($string));</p>
<p>foreach (array('-', '\'') as $delimiter) {<br /> if (strpos($string, $delimiter)!==false) {<br /> $string =implode($delimiter, array_map('ucfirst', explode($delimiter, $string)));<br /> }<br /> }<br /> return $string;<br />}</p>
<p><br />function ucwords_tr($string) {<br />$lower_arr = array("I"=&gt;"ı","i"=&gt;"İ");<br />$string=strtr($string,$lower_arr);<br />return mb_convert_case($string, MB_CASE_TITLE, "UTF-8");<br />}</p>
<p>//TR STRTOUPPER<br />function tr_strtoupper($string)<br />{<br /> $find=array("&ccedil;","i","ı","ğ","&ouml;","ş","&uuml;");<br /> $replace=array("&Ccedil;","İ","I","Ğ","&Ouml;","Ş","&Uuml;");<br /> $string=str_replace($find,$replace,$string);<br /> $string=strtoupper($string);<br /> return $string;<br />}</p>
<p>function sentence_case($string) {<br /> $sentences = preg_split('/([.?!]+)/', $string, -1, PREG_SPLIT_NO_EMPTY|PREG_SPLIT_DELIM_CAPTURE);<br /> $new_string = '';<br /> foreach ($sentences as $key =&gt; $sentence) {<br /> $new_string .= ($key &amp; 1) == 0?<br /> ucfirst(strtolower(trim($sentence))) :<br /> $sentence.' ';<br /> }<br /> return trim($new_string);<br />}</p>
<p>//GENERATE RANDOM STRING AS SPECIFIED LENGTH<br />function randomString($length, $strings = 'AaBbCcDdEeFfGgHhIiJjKkLlMmNnOoPpQqRrSsTtUuVvWwXxYyZz1234567890'){<br /> if($length &gt; 0){<br /> $string_length = (strlen($strings) - 1);<br /> $random_string = $strings{rand(0, $string_length)};<br /> for ($i = 1; $i &lt; $length; $i = strlen($random_string)){<br /> $r = $strings{rand(0, $string_length)};<br /> if ($r != $random_string{$i - 1}) $random_string .= $r;<br /> }<br /> return $random_string;<br /> }<br />}</p>
<p>//IF PASSWORD IS MD5 RETURN TRUE<br />function is_md5 ($string) {<br /> if (is_string($string) &amp;&amp; preg_match('/^[0-9a-f]{32}$/', $string)){<br /> return true;<br /> }<br /> else<br /> return false;<br />}</p>
<p>//SEPARATE &lt;p&gt;&lt;/p&gt; TAGS AND ADD EACH ONE TO AN ARRAY<br />function separate_between_tags($string) {<br /> $tags = array("&lt;p&gt;", "\n", "&amp;nbsp;");<br /> $a = str_replace($tags, "", $string);<br /> $b = explode('&lt;/p&gt;', $a);<br /> $c = array_filter( $b);<br /> return $c;<br />}</p>
<p>//############################# END PHP FUNCTIONS ############################<br />//############################### START LARAVEL ###############################<br />//######################## Eloquent - Helpers - Routes #######################</p>
<p><br />function isUrlContainString($string)<br />{<br /> if (stripos(Route::current()-&gt;getName(),$string) !== false) return true;<br /> else<br /> return false;<br />}</p>
<p>function isContainArray($wordToAdd, array $arr)<br />{<br /> foreach($arr as $a) {<br /> if (stripos(Route::current()-&gt;getName(),$a) !== false) return $wordToAdd;<br /> }<br /> return "";<br />}</p>
<p>function urlAddString($string, $add){<br /> if (strpos(Route::current()-&gt;getName(), $string) !== false) {<br /> return $add;<br /> }<br /> else return "";<br />}</p>
<p>//Separate you url with specified string and get the last part<br />function specificPartFromUrl($part){<br /> $link = URL::full();<br /> $myarray = explode($part ,$link);<br /> return end($myarray);<br />}</p>
<p>function urlLastPart($string){<br /> substr(strrchr(url()-&gt;current(), $string),1);<br />}</p>
<p>//WORKS WITH LOCALIZATION IN LARAVEL. ALSO WORKS IF "HIDE DEFAULT LOCALE IN URL" IS TRUE.<br />// isNeedBack("foo") ---&gt; local/tr/foo = true, isNeedBack("foo") ---&gt; local/tr/foo/2 = false, Then put back button @if(!isNeedBack("investments"))<br />function isNeedBack($string) {<br /> $localeCode = LaravelLocalization::getCurrentLocale();<br /> $ready_to_cut = "$localeCode"."/";<br /> $after_cut = str_after(URL::full(), $ready_to_cut);<br /> if($after_cut == $string) {<br /> return true;<br /> }<br />}<br />//####################### Eloquent - Helpers - Routes ######################<br />//############################### END LARAVEL ###############################</p>